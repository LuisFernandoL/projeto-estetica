(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{8763:function(e,s,t){Promise.resolve().then(t.bind(t,6657))},6657:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var r=t(7437),o=t(142),a=t(2301),i=t(8110),n=t(1396),l=t.n(n),c=t(1865),u=()=>{let{register:e,handleSubmit:s}=(0,c.cI)({resolver:(0,i.F)(a.d)}),{login:t}=(0,o.useAuth)();return(0,r.jsxs)("div",{className:"bg-gray-800 w-4/5 md:w-1/4 min-h-[550px] h-auto flex flex-col items-center justify-center gap-7 py-12 shadow-inner rounded-lg shadow-blue-800",children:[(0,r.jsx)("p",{className:"sm:text-3xl md:text-3xl  mt-6 font-semibold",children:"Login"}),(0,r.jsxs)("form",{className:"space-y-6 w-4/5",onSubmit:s(e=>{t(e)}),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"user-form-label",children:"E-mail"}),(0,r.jsx)("div",{className:"mt-2 w-full  text-gray-950",children:(0,r.jsx)("input",{type:"email",placeholder:"example@.com",className:"w-full h-7",...e("email")})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"md:text-2xl sm:text-xl font-medium leading-6 text-gray-100",children:"Password"}),(0,r.jsx)("div",{className:"mt-2 text-gray-950",children:(0,r.jsx)("input",{type:"password",placeholder:"Sua senha",className:"w-full h-7 ",...e("password")})}),(0,r.jsx)(l(),{href:"/resetPassword",className:"user-form-link",children:"Esqueceu a senha ? Clique aqui"})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",className:"user-form-button  text-gray-950",children:"Entrar"})}),(0,r.jsx)(l(),{href:"/register",className:"user-form-link text-blue-300",children:"N\xe3o \xe9 cadastrado ainda? Clique aqui"})]})]})},d=()=>(0,r.jsx)("main",{className:"body min-h-screen flex items-center justify-center ",children:(0,r.jsx)(u,{})})},7036:function(e,s,t){"use strict";t.d(s,{F:function(){return o}});var r=t(171);let o=e=>{let{message:s,isSucess:t=!1}=e;return t?r.toast.success(s,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}):r.toast.error(s,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}},142:function(e,s,t){"use strict";t.r(s),t.d(s,{AuthProvider:function(){return u},useAuth:function(){return d}});var r=t(7437),o=t(1633),a=t(4033),i=t(7713),n=t(2265),l=t(7036);let c=(0,n.createContext)({}),u=e=>{let{children:s}=e,[t,u]=(0,n.useState)(null),d=(0,a.useRouter)();return(0,n.useEffect)(()=>{let e=(0,i.getCookie)("aesthetics.token");e&&o.Z.get("/users",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{u(e.data)}).catch(e=>{console.error("Erro ao buscar dados do usu\xe1rio:",e)})},[]),(0,r.jsx)(c.Provider,{value:{user:t,setUser:u,register:e=>{o.Z.post("/users",e).then(()=>{(0,l.F)({message:"Usu\xe1rio cadastrado com sucesso",isSucess:!0}),d.push("/login")}).catch(e=>{console.log(e),(0,l.F)({message:"Erro ao criar usu\xe1rio, tente utilizar outro e-mail"})})},login:e=>{o.Z.post("/login",e).then(e=>{(0,i.setCookie)("aesthetics.token",e.data.token,{maxAge:1800})}).then(()=>{(0,l.F)({message:"Login realizado com sucesso",isSucess:!0}),d.push("/")}).catch(e=>{console.log(e),(0,l.F)({message:"Erro ao logar, verifique se o e-mail e senha est\xe3o corretos"})})},logout:()=>{u(null),(0,i.setCookie)("aesthetics.token","",{expires:new Date(0),path:"/"})}},children:s})},d=()=>(0,n.useContext)(c)},2301:function(e,s,t){"use strict";t.d(s,{c:function(){return o},d:function(){return a}});var r=t(4578);let o=r.z.object({name:r.z.string().min(3,"Nome \xe9 obrigat\xf3rio"),email:r.z.string().email("Deve ser um e-mail v\xe1lido"),admin:r.z.boolean().default(!1),password:r.z.string().min(8,"A senha deve conter mais de 8 caracteres")}),a=o.omit({name:!0})},1633:function(e,s,t){"use strict";let r=t(2173).Z.create({baseURL:"https://estetica-db.onrender.com",timeout:5e3});s.Z=r}},function(e){e.O(0,[245,250,133,971,938,744],function(){return e(e.s=8763)}),_N_E=e.O()}]);