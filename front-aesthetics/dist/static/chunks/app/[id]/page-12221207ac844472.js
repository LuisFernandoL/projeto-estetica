(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[531],{1508:function(e,t,r){Promise.resolve().then(r.t.bind(r,5250,23)),Promise.resolve().then(r.bind(r,2602))},7447:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{unstable_getImgProps:function(){return i},default:function(){return c}});let s=r(1024),o=r(8630),a=r(6184),A=r(1749),n=s._(r(536)),i=e=>{(0,a.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:t}=(0,o.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}},c=A.Image},2602:function(e,t,r){"use strict";r.r(t);var s=r(7437),o=r(6691),a=r.n(o),A=r(3606),n=r(4669);t.default=e=>{let{product:t}=e,{deleteProduct:r,updateProduct:o}=(0,n.useProduct)();return(0,s.jsxs)("div",{className:"w-4/5 h-3/4 min-w-[1502px] min-h-[803] bg-pink-800 rounded-lg flex flex-row pb-8 pt-20",children:[(0,s.jsxs)("div",{className:"flex flex-col justify-center w-2/4 pl-32",children:[(0,s.jsx)("p",{className:"text-5xl text-gray-100 pb-6 ml-12",children:t.name}),(0,s.jsx)("div",{className:" w-[30rem] h-[33rem] ml-12",children:(0,s.jsx)(a(),{className:"object-cover w-full h-full  rounded-lg mt-3",src:t.cover_image?t.cover_image:A.default,width:209,height:186,alt:t.name})})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-12 w-2/4 justify-center ",children:[(0,s.jsxs)("p",{className:"text-5xl my-2 text-gray-100",children:[(0,s.jsx)("strong",{children:"Descri\xe7\xe3o:"})," ",t.description]}),(0,s.jsxs)("p",{className:"text-5xl my-2 text-gray-100",children:[(0,s.jsx)("strong",{children:"Pre\xe7o:"})," R$ ",t.price]}),(0,s.jsx)("button",{type:"button",onClick:()=>{window.confirm("tem certeza que deseja excluir esse produto ?")&&r(t.id)},className:"bg-red-500 text-white px-4 py-2 rounded-md cursor-pointer",children:"Deletar Produto"})]})]})}},7036:function(e,t,r){"use strict";r.d(t,{F:function(){return o}});var s=r(171);let o=e=>{let{message:t,isSucess:r=!1}=e;return r?s.toast.success(t,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}):s.toast.error(t,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}},4669:function(e,t,r){"use strict";r.r(t),r.d(t,{ProductProvider:function(){return l},useProduct:function(){return g}});var s=r(7437),o=r(2265),a=r(4033),A=r(1633),n=r(7713),i=r(4578);let c=i.z.object({id:i.z.string(),name:i.z.string(),description:i.z.string(),price:i.z.string(),cover_image:i.z.string()});c.omit({id:!0,cover_image:!0});var u=r(7036);let d=(0,o.createContext)({});function l(e){let{children:t}=e,r=(0,a.useRouter)(),[i,l]=(0,o.useState)([]),[g,m]=(0,o.useState)({}),[h,p]=(0,o.useState)(0),f=(0,n.getCookie)("aesthetics.token");f&&(A.Z.defaults.headers.common.authorization="Bearer ".concat(f));let[x,C]=(0,o.useState)({id:"",name:"",description:"",price:"",cover_image:""}),[w,E]=(0,o.useState)(null),v=async(e,t)=>{let r=new FormData;return t.name.includes("jpg")?(r.append("cover_image",t),{status:await A.Z.patch("/products/upload/".concat(e),r,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>e.status)}):{status:400}},b=async(e,t)=>{try{let r=(0,n.getCookie)("aesthetics.token"),{data:s}=await A.Z.patch("/products/".concat(t," "),e,{headers:{Authorization:"Bearer ".concat(r)}}),o=i.filter(e=>e.id!==t);l([...o,s]),(0,a.redirect)("/")}catch(e){}};return(0,s.jsx)(d.Provider,{value:{coverImage:w,setCoverImage:E,page:h,setPage:p,productInfo:x,setProductInfo:C,createProduct:()=>{A.Z.post("/products",c.parse(x)).then(e=>(C(t=>({...t,id:e.data.id})),v(e.data.id,w))).then(e=>{200===e.status&&(0,u.F)({message:"Produto cadastrado com sucesso",isSucess:!0}),r.push("/")}).catch(e=>{console.log(e),(0,u.F)({message:"Erro ao cadastrar o produto"})})},updateProduct:b,deleteProduct:e=>{A.Z.delete("/products/".concat(e)).then(()=>{(0,u.F)({message:"Produto deletado com sucesso",isSucess:!0}),window.location.reload()}).catch(e=>{console.log(e),(0,u.F)({message:"Erro ao deletar o produto"})})},editing:g},children:t})}let g=()=>(0,o.useContext)(d)},1633:function(e,t,r){"use strict";let s=r(2173).Z.create({baseURL:"https://estetica-db.onrender.com",timeout:5e3});t.Z=s},3606:function(e,t,r){"use strict";r.r(t),t.default={src:"/_next/static/media/transferir.89d53e78.jpeg",height:183,width:275,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAUACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABgEBAQAAAAAAAAAAAAAAAAAAAgP/2gAMAwEAAhADEAAAAL0C/wD/xAAaEAACAwEBAAAAAAAAAAAAAAABAgMRIQAx/9oACAEBAAE/AEdDAk5j1ipw16a7/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQIA/9oACAECAQE/AJBkd//EABgRAQEAAwAAAAAAAAAAAAAAAAECAAMR/9oACAEDAQE/ANqzaC8z/9k=",blurWidth:8,blurHeight:5}},6691:function(e,t,r){e.exports=r(7447)}},function(e){e.O(0,[245,250,749,971,938,744],function(){return e(e.s=1508)}),_N_E=e.O()}]);