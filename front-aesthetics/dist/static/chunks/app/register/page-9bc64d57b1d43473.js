(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{6188:function(e,s,t){Promise.resolve().then(t.bind(t,7348))},7348:function(e,s,t){"use strict";t.r(s);var r=t(7437),a=t(142),o=t(2301),i=t(8110),l=t(1396),n=t.n(l),c=t(1865);s.default=()=>{let{register:e,handleSubmit:s}=(0,c.cI)({resolver:(0,i.F)(o.c)}),{register:t}=(0,a.useAuth)();return(0,r.jsxs)("div",{className:"bg-gray-800 w-4/5 md:w-1/4 min-h-[550px] h-auto flex flex-col items-center justify-center gap-7 py-12 shadow-inner rounded-lg shadow-blue-800",children:[(0,r.jsx)("p",{className:"sm:text-3xl md:text-4xl mt-6 font-semibold",children:"Fazer cadastro"}),(0,r.jsxs)("form",{className:"space-y-6 w-4/5",onSubmit:s(e=>{t(e)}),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"user-form-label",children:"Nome"}),(0,r.jsx)("div",{className:"mt-2  text-gray-950",children:(0,r.jsx)("input",{type:"text",placeholder:"Seu Nome",className:"w-full h-7",...e("name")})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"user-form-label",children:"E-mail"}),(0,r.jsx)("div",{className:"mt-2  text-gray-950",children:(0,r.jsx)("input",{type:"email",placeholder:"example@.com",className:"w-full h-7",...e("email")})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"user-form-label",children:"Password"}),(0,r.jsx)("div",{className:"mt-2  text-gray-950",children:(0,r.jsx)("input",{type:"password",placeholder:"Sua senha",className:"w-full h-7",...e("password")})})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",className:"user-form-button",children:"Cadastrar"})}),(0,r.jsx)(n(),{href:"/login",className:"user-form-link  text-gray-950",children:"Ir para o login"})]})]})}},7036:function(e,s,t){"use strict";t.d(s,{F:function(){return a}});var r=t(171);let a=e=>{let{message:s,isSucess:t=!1}=e;return t?r.toast.success(s,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}):r.toast.error(s,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}},142:function(e,s,t){"use strict";t.r(s),t.d(s,{AuthProvider:function(){return u},useAuth:function(){return d}});var r=t(7437),a=t(1633),o=t(4033),i=t(7713),l=t(2265),n=t(7036);let c=(0,l.createContext)({}),u=e=>{let{children:s}=e,[t,u]=(0,l.useState)(null),d=(0,o.useRouter)();return(0,l.useEffect)(()=>{let e=(0,i.getCookie)("aesthetics.token");e&&a.Z.get("/users",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{u(e.data)}).catch(e=>{console.error("Erro ao buscar dados do usu\xe1rio:",e)})},[]),(0,r.jsx)(c.Provider,{value:{user:t,setUser:u,register:e=>{a.Z.post("/users",e).then(()=>{(0,n.F)({message:"Usu\xe1rio cadastrado com sucesso",isSucess:!0}),d.push("/login")}).catch(e=>{console.log(e),(0,n.F)({message:"Erro ao criar usu\xe1rio, tente utilizar outro e-mail"})})},login:e=>{a.Z.post("/login",e).then(e=>{(0,i.setCookie)("aesthetics.token",e.data.token,{maxAge:1800})}).then(()=>{(0,n.F)({message:"Login realizado com sucesso",isSucess:!0}),d.push("/")}).catch(e=>{console.log(e),(0,n.F)({message:"Erro ao logar, verifique se o e-mail e senha est\xe3o corretos"})})},logout:()=>{u(null),(0,i.setCookie)("aesthetics.token","",{expires:new Date(0),path:"/"})}},children:s})},d=()=>(0,l.useContext)(c)},2301:function(e,s,t){"use strict";t.d(s,{c:function(){return a},d:function(){return o}});var r=t(4578);let a=r.z.object({name:r.z.string().min(3,"Nome \xe9 obrigat\xf3rio"),email:r.z.string().email("Deve ser um e-mail v\xe1lido"),admin:r.z.boolean().default(!1),password:r.z.string().min(8,"A senha deve conter mais de 8 caracteres")}),o=a.omit({name:!0})},1633:function(e,s,t){"use strict";let r=t(2173).Z.create({baseURL:"https://estetica-db.onrender.com",timeout:5e3});s.Z=r}},function(e){e.O(0,[245,250,133,971,938,744],function(){return e(e.s=6188)}),_N_E=e.O()}]);