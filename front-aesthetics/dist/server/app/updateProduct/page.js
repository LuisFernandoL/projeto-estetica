(()=>{var e={};e.id=272,e.ids=[272],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},5669:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c});var r=s(482),a=s(9108),o=s(2563),i=s.n(o),n=s(8300),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let c=["",{children:["updateProduct",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8790)),"C:\\Users\\siull\\OneDrive\\\xc1rea de Trabalho\\Meus codes\\projeto-estetica\\front-aesthetics\\src\\app\\updateProduct\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,1050)),"C:\\Users\\siull\\OneDrive\\\xc1rea de Trabalho\\Meus codes\\projeto-estetica\\front-aesthetics\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,4117)),"C:\\Users\\siull\\OneDrive\\\xc1rea de Trabalho\\Meus codes\\projeto-estetica\\front-aesthetics\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Users\\siull\\OneDrive\\\xc1rea de Trabalho\\Meus codes\\projeto-estetica\\front-aesthetics\\src\\app\\updateProduct\\page.tsx"],d="/updateProduct/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/updateProduct/page",pathname:"/updateProduct",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5480:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},8971:(e,t,s)=>{Promise.resolve().then(s.bind(s,1208)),Promise.resolve().then(s.bind(s,9732)),Promise.resolve().then(s.bind(s,1718))},7911:(e,t,s)=>{Promise.resolve().then(s.bind(s,6414))},7695:(e,t,s)=>{Promise.resolve().then(s.bind(s,7646))},6414:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(2295),a=s(3729);function o({error:e,reset:t}){return(0,a.useEffect)(()=>{console.error(e)},[e]),(0,r.jsxs)(r.Fragment,{children:[r.jsx("h1",{children:"Sua p\xe1gina deu erro"}),r.jsx("button",{type:"button",onClick:t,children:"Tentar novamente"})]})}},2310:(e,t,s)=>{"use strict";s.d(t,{F:()=>a});var r=s(1208);let a=({message:e,isSucess:t=!1})=>t?r.toast.success(e,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}):r.toast.error(e,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},7646:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(2295),a=s(1718),o=s(783),i=s.n(o),n=s(3729),l=s(1419),c=s(8963);let u=()=>{let{productInfo:e,setProductInfo:t,setCoverImage:s,updateProduct:o,editing:u}=(0,a.useProduct)(),d=(0,n.useCallback)(e=>{s(e[0])},[s]),{getRootProps:p,getInputProps:m}=(0,l.uI)({onDrop:d,accept:{"image/jpeg":[".jpg"]}});return r.jsx("div",{className:"container flex flex-col sm:min-w-[430px] md:min-w-[900px] lg:min-w-[1000px] justify-center items-center bg-gray-800 ",children:(0,r.jsxs)("div",{className:"flex flex-col w-4/5 sm:flex-wrap",children:[r.jsx("p",{className:"text-4xl my-6 font-semibold text-center",children:"Atualizar Produto"}),r.jsx("div",{className:"flex flex-row justify-center mb-6",children:r.jsx("div",{className:" bg-blue-400 w-5 h-5 m-1 rounded-full"})}),(0,r.jsxs)("form",{children:[(0,r.jsxs)("div",{className:"flex flex-wrap md:flex-nowrap items-center justify-center gap-2   ",children:[r.jsx("div",{className:"flex flex-col sm:min-w-[300px] md:w-1/2 ",children:(0,r.jsxs)("div",{className:"pr-6",children:[r.jsx("label",{htmlFor:"name",className:"user-form-label",children:"Nome"}),r.jsx("div",{className:"mt-2 mb-12 ",children:r.jsx("input",{type:"text",className:"user-input-form  text-gray-950",placeholder:"Nome",name:"name"})}),r.jsx("label",{htmlFor:"description",className:"user-form-label",children:"Descri\xe7\xe3o"}),r.jsx("div",{className:"mt-2 mb-12",children:r.jsx("input",{type:"text",className:"user-input-form  text-gray-950",placeholder:"Descri\xe7\xe3o",name:"description"})}),r.jsx("label",{htmlFor:"price",className:"user-form-label",children:"Pre\xe7o"}),r.jsx("div",{className:"mt-2 mb-12",children:r.jsx("input",{type:"text",className:"user-input-form  text-gray-950",placeholder:"Pre\xe7o",name:"price"})})]})}),(0,r.jsxs)("div",{...p(),className:" flex flex-col sm:min-w-[300px] md:w-1/2 bg-blue-900 rounded-lg border-dashed border-2 border-gray-400",children:[r.jsx("label",{htmlFor:"dropzone-file",className:"cursor-pointer w-full h-full",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[r.jsx(c.H3h,{className:" fill-gray-200 w-24 h-20 m-4"}),r.jsx("p",{className:"text-3xl",children:"Arrasta e solte a capa aqui"}),r.jsx("p",{className:"text-3xl mt-4",children:"- OU -"}),r.jsx("button",{className:"user-form-button w-48 my-8 text-gray-950",onClick:e=>e.preventDefault(),children:"Busque aqui"}),r.jsx("p",{className:"text-lg italic font-gray-200",children:"Formatos suportados: jpg"})]})}),r.jsx("input",{className:"hidden",...m()})]})]}),r.jsx("div",{className:"flex items-center justify-center md:justify-end",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-center  py-5 gap-2",children:[r.jsx("div",{className:"",children:r.jsx(i(),{href:"/",className:"user-form-button bg-pink-600 text-gray-950",children:"Voltar"})}),r.jsx("button",{type:"submit",children:"Atualizar Produto"})]})})]})]})})}},9732:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AuthProvider:()=>u,useAuth:()=>d});var r=s(2295),a=s(8243),o=s(2254),i=s(1356),n=s(3729),l=s(2310);let c=(0,n.createContext)({}),u=({children:e})=>{let[t,s]=(0,n.useState)(null),u=(0,o.useRouter)();return(0,n.useEffect)(()=>{let e=(0,i.getCookie)("aesthetics.token");e&&a.Z.get("/users",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{s(e.data)}).catch(e=>{console.error("Erro ao buscar dados do usu\xe1rio:",e)})},[]),r.jsx(c.Provider,{value:{user:t,setUser:s,register:e=>{a.Z.post("/users",e).then(()=>{(0,l.F)({message:"Usu\xe1rio cadastrado com sucesso",isSucess:!0}),u.push("/login")}).catch(e=>{console.log(e),(0,l.F)({message:"Erro ao criar usu\xe1rio, tente utilizar outro e-mail"})})},login:e=>{a.Z.post("/login",e).then(e=>{(0,i.setCookie)("aesthetics.token",e.data.token,{maxAge:1800})}).then(()=>{(0,l.F)({message:"Login realizado com sucesso",isSucess:!0}),u.push("/")}).catch(e=>{console.log(e),(0,l.F)({message:"Erro ao logar, verifique se o e-mail e senha est\xe3o corretos"})})},logout:()=>{s(null),(0,i.setCookie)("aesthetics.token","",{expires:new Date(0),path:"/"})}},children:e})},d=()=>(0,n.useContext)(c)},1718:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ProductProvider:()=>p,useProduct:()=>m});var r=s(2295),a=s(3729),o=s(2254),i=s(8243),n=s(1356),l=s(9709);let c=l.z.object({id:l.z.string(),name:l.z.string(),description:l.z.string(),price:l.z.string(),cover_image:l.z.string()});c.omit({id:!0,cover_image:!0});var u=s(2310);let d=(0,a.createContext)({});function p({children:e}){let t=(0,o.useRouter)(),[s,l]=(0,a.useState)([]),[p,m]=(0,a.useState)({}),[x,h]=(0,a.useState)(0),g=(0,n.getCookie)("aesthetics.token");g&&(i.Z.defaults.headers.common.authorization=`Bearer ${g}`);let[f,v]=(0,a.useState)({id:"",name:"",description:"",price:"",cover_image:""}),[j,b]=(0,a.useState)(null),P=async(e,t)=>{let s=new FormData;return t.name.includes("jpg")?(s.append("cover_image",t),{status:await i.Z.patch(`/products/upload/${e}`,s,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>e.status)}):{status:400}},y=async(e,t)=>{try{let r=(0,n.getCookie)("aesthetics.token"),{data:a}=await i.Z.patch(`/products/${t} `,e,{headers:{Authorization:`Bearer ${r}`}}),c=s.filter(e=>e.id!==t);l([...c,a]),(0,o.redirect)("/")}catch(e){}};return r.jsx(d.Provider,{value:{coverImage:j,setCoverImage:b,page:x,setPage:h,productInfo:f,setProductInfo:v,createProduct:()=>{i.Z.post("/products",c.parse(f)).then(e=>(v(t=>({...t,id:e.data.id})),P(e.data.id,j))).then(e=>{200===e.status&&(0,u.F)({message:"Produto cadastrado com sucesso",isSucess:!0}),t.push("/")}).catch(e=>{console.log(e),(0,u.F)({message:"Erro ao cadastrar o produto"})})},updateProduct:y,deleteProduct:e=>{i.Z.delete(`/products/${e}`).then(()=>{(0,u.F)({message:"Produto deletado com sucesso",isSucess:!0}),window.location.reload()}).catch(e=>{console.log(e),(0,u.F)({message:"Erro ao deletar o produto"})})},editing:p},children:e})}let m=()=>(0,a.useContext)(d)},8243:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=s(3608).Z.create({baseURL:"https://estetica-db.onrender.com",timeout:5e3})},4117:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>i});let r=(0,s(6843).createProxy)(String.raw`C:\Users\siull\OneDrive\Área de Trabalho\Meus codes\projeto-estetica\front-aesthetics\src\app\error.tsx`),{__esModule:a,$$typeof:o}=r,i=r.default},1050:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v,metadata:()=>f});var r=s(5036),a=s(3640),o=s.n(a);s(5023);var i=s(6843);let n=(0,i.createProxy)(String.raw`C:\Users\siull\OneDrive\Área de Trabalho\Meus codes\projeto-estetica\front-aesthetics\src\contexts\authContext.tsx`),{__esModule:l,$$typeof:c}=n;n.default;let u=(0,i.createProxy)(String.raw`C:\Users\siull\OneDrive\Área de Trabalho\Meus codes\projeto-estetica\front-aesthetics\src\contexts\authContext.tsx#AuthProvider`);(0,i.createProxy)(String.raw`C:\Users\siull\OneDrive\Área de Trabalho\Meus codes\projeto-estetica\front-aesthetics\src\contexts\authContext.tsx#useAuth`);let d=(0,i.createProxy)(String.raw`C:\Users\siull\OneDrive\Área de Trabalho\Meus codes\projeto-estetica\front-aesthetics\src\contexts\productContext.tsx`),{__esModule:p,$$typeof:m}=d;d.default;let x=(0,i.createProxy)(String.raw`C:\Users\siull\OneDrive\Área de Trabalho\Meus codes\projeto-estetica\front-aesthetics\src\contexts\productContext.tsx#ProductProvider`);(0,i.createProxy)(String.raw`C:\Users\siull\OneDrive\Área de Trabalho\Meus codes\projeto-estetica\front-aesthetics\src\contexts\productContext.tsx#useProduct`);let h=({children:e})=>r.jsx(r.Fragment,{children:r.jsx(u,{children:r.jsx(x,{children:e})})});var g=s(3222);s(7001);let f={title:"Cat\xe1lago Beauty",description:"Generated by create next app"};function v({children:e}){return r.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:r.jsx("body",{className:o().className,children:(0,r.jsxs)(h,{children:[r.jsx(g.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),e]})})})}},8790:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m,dynamic:()=>d});var r=s(5036);let a=(0,s(6843).createProxy)(String.raw`C:\Users\siull\OneDrive\Área de Trabalho\Meus codes\projeto-estetica\front-aesthetics\src\components\updateProduct.tsx`),{__esModule:o,$$typeof:i}=a,n=a.default;var l=s(5605),c=s(2455),u=s(4551);let d="force-dynamic",p=()=>{let e=(0,l.getCookie)("aesthetics.token",{cookies:c.cookies});return e||(0,u.redirect)("/login"),e},m=()=>(p(),r.jsx("main",{className:"body min-h-screen flex items-center justify-center",children:r.jsx("form",{className:"flex w-4/5 mt-12 mb-12 md:m-1.5 flex-row items-center justify-center",children:r.jsx(n,{})})}))},3881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,577,230,28,576],()=>s(5669));module.exports=r})();