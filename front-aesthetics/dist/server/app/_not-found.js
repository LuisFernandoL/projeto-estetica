(()=>{var e={};e.id=165,e.ids=[165],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},5836:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>l,routeModule:()=>h,tree:()=>u});var s=r(482),o=r(9108),a=r(2563),i=r.n(a),n=r(8300),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(t,c);let u=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1050)),"C:\\Users\\siull\\OneDrive\\\xc1rea de Trabalho\\Meus codes\\projeto-estetica\\front-aesthetics\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,4117)),"C:\\Users\\siull\\OneDrive\\\xc1rea de Trabalho\\Meus codes\\projeto-estetica\\front-aesthetics\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],l=[],d="/_not-found",p={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/_not-found",pathname:"/_not-found",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},5480:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},8971:(e,t,r)=>{Promise.resolve().then(r.bind(r,1208)),Promise.resolve().then(r.bind(r,9732)),Promise.resolve().then(r.bind(r,1718))},7911:(e,t,r)=>{Promise.resolve().then(r.bind(r,6414))},6414:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(2295),o=r(3729);function a({error:e,reset:t}){return(0,o.useEffect)(()=>{console.error(e)},[e]),(0,s.jsxs)(s.Fragment,{children:[s.jsx("h1",{children:"Sua p\xe1gina deu erro"}),s.jsx("button",{type:"button",onClick:t,children:"Tentar novamente"})]})}},2310:(e,t,r)=>{"use strict";r.d(t,{F:()=>o});var s=r(1208);let o=({message:e,isSucess:t=!1})=>t?s.toast.success(e,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}):s.toast.error(e,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},9732:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AuthProvider:()=>l,useAuth:()=>d});var s=r(2295),o=r(8243),a=r(2254),i=r(1356),n=r(3729),c=r(2310);let u=(0,n.createContext)({}),l=({children:e})=>{let[t,r]=(0,n.useState)(null),l=(0,a.useRouter)();return(0,n.useEffect)(()=>{let e=(0,i.getCookie)("aesthetics.token");e&&o.Z.get("/users",{headers:{Authorization:`Bearer ${e}`}}).then(e=>{r(e.data)}).catch(e=>{console.error("Erro ao buscar dados do usu\xe1rio:",e)})},[]),s.jsx(u.Provider,{value:{user:t,setUser:r,register:e=>{o.Z.post("/users",e).then(()=>{(0,c.F)({message:"Usu\xe1rio cadastrado com sucesso",isSucess:!0}),l.push("/login")}).catch(e=>{console.log(e),(0,c.F)({message:"Erro ao criar usu\xe1rio, tente utilizar outro e-mail"})})},login:e=>{o.Z.post("/login",e).then(e=>{(0,i.setCookie)("aesthetics.token",e.data.token,{maxAge:1800})}).then(()=>{(0,c.F)({message:"Login realizado com sucesso",isSucess:!0}),l.push("/")}).catch(e=>{console.log(e),(0,c.F)({message:"Erro ao logar, verifique se o e-mail e senha est\xe3o corretos"})})},logout:()=>{r(null),(0,i.setCookie)("aesthetics.token","",{expires:new Date(0),path:"/"})}},children:e})},d=()=>(0,n.useContext)(u)},1718:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ProductProvider:()=>p,useProduct:()=>h});var s=r(2295),o=r(3729),a=r(2254),i=r(8243),n=r(1356),c=r(9709);let u=c.z.object({id:c.z.string(),name:c.z.string(),description:c.z.string(),price:c.z.string(),cover_image:c.z.string()});u.omit({id:!0,cover_image:!0});var l=r(2310);let d=(0,o.createContext)({});function p({children:e}){let t=(0,a.useRouter)(),[r,c]=(0,o.useState)([]),[p,h]=(0,o.useState)({}),[x,g]=(0,o.useState)(0),m=(0,n.getCookie)("aesthetics.token");m&&(i.Z.defaults.headers.common.authorization=`Bearer ${m}`);let[v,P]=(0,o.useState)({id:"",name:"",description:"",price:"",cover_image:""}),[f,b]=(0,o.useState)(null),C=async(e,t)=>{let r=new FormData;return t.name.includes("jpg")?(r.append("cover_image",t),{status:await i.Z.patch(`/products/upload/${e}`,r,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>e.status)}):{status:400}},j=async(e,t)=>{try{let s=(0,n.getCookie)("aesthetics.token"),{data:o}=await i.Z.patch(`/products/${t} `,e,{headers:{Authorization:`Bearer ${s}`}}),u=r.filter(e=>e.id!==t);c([...u,o]),(0,a.redirect)("/")}catch(e){}};return s.jsx(d.Provider,{value:{coverImage:f,setCoverImage:b,page:x,setPage:g,productInfo:v,setProductInfo:P,createProduct:()=>{i.Z.post("/products",u.parse(v)).then(e=>(P(t=>({...t,id:e.data.id})),C(e.data.id,f))).then(e=>{200===e.status&&(0,l.F)({message:"Produto cadastrado com sucesso",isSucess:!0}),t.push("/")}).catch(e=>{console.log(e),(0,l.F)({message:"Erro ao cadastrar o produto"})})},updateProduct:j,deleteProduct:e=>{i.Z.delete(`/products/${e}`).then(()=>{(0,l.F)({message:"Produto deletado com sucesso",isSucess:!0}),window.location.reload()}).catch(e=>{console.log(e),(0,l.F)({message:"Erro ao deletar o produto"})})},editing:p},children:e})}let h=()=>(0,o.useContext)(d)},8243:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=r(3608).Z.create({baseURL:"https://estetica-db.onrender.com",timeout:5e3})},4117:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>o,default:()=>i});let s=(0,r(6843).createProxy)(String.raw`C:\Users\siull\OneDrive\Área de Trabalho\Meus codes\projeto-estetica\front-aesthetics\src\app\error.tsx`),{__esModule:o,$$typeof:a}=s,i=s.default},1050:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>P,metadata:()=>v});var s=r(5036),o=r(3640),a=r.n(o);r(5023);var i=r(6843);let n=(0,i.createProxy)(String.raw`C:\Users\siull\OneDrive\Área de Trabalho\Meus codes\projeto-estetica\front-aesthetics\src\contexts\authContext.tsx`),{__esModule:c,$$typeof:u}=n;n.default;let l=(0,i.createProxy)(String.raw`C:\Users\siull\OneDrive\Área de Trabalho\Meus codes\projeto-estetica\front-aesthetics\src\contexts\authContext.tsx#AuthProvider`);(0,i.createProxy)(String.raw`C:\Users\siull\OneDrive\Área de Trabalho\Meus codes\projeto-estetica\front-aesthetics\src\contexts\authContext.tsx#useAuth`);let d=(0,i.createProxy)(String.raw`C:\Users\siull\OneDrive\Área de Trabalho\Meus codes\projeto-estetica\front-aesthetics\src\contexts\productContext.tsx`),{__esModule:p,$$typeof:h}=d;d.default;let x=(0,i.createProxy)(String.raw`C:\Users\siull\OneDrive\Área de Trabalho\Meus codes\projeto-estetica\front-aesthetics\src\contexts\productContext.tsx#ProductProvider`);(0,i.createProxy)(String.raw`C:\Users\siull\OneDrive\Área de Trabalho\Meus codes\projeto-estetica\front-aesthetics\src\contexts\productContext.tsx#useProduct`);let g=({children:e})=>s.jsx(s.Fragment,{children:s.jsx(l,{children:s.jsx(x,{children:e})})});var m=r(3222);r(7001);let v={title:"Cat\xe1lago Beauty",description:"Generated by create next app"};function P({children:e}){return s.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:s.jsx("body",{className:a().className,children:(0,s.jsxs)(g,{children:[s.jsx(m.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),e]})})})}},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,577],()=>r(5836));module.exports=s})();